import './polyfills.server.mjs';
import{b as l,c as g,d as r}from"./chunk-72TWDDAR.mjs";import{_ as n,k as s,r as o}from"./chunk-S7ATBOQE.mjs";var $=(()=>{class i{constructor(){this.apiUrl=new l().getUrl(g),this.lists=this.apiUrl+"marketing/listing/",this.processing=this.apiUrl+"marketing/",this.deletion=this.apiUrl+"marketing/0/deletion/",this.amc=this.apiUrl+"amcEntry/",this.fileType=this.apiUrl+"fileType/",this.shareLinks=this.apiUrl+"marketing/0/share_links/"}getHeaders(){return{Authorization:`Bearer ${localStorage.getItem("access_token")}`}}listsMarketing(e,t,a=""){let h=new URLSearchParams({page:e.toString(),page_size:t.toString(),search:a}),c=`${this.lists}?${h.toString()}`;return s(r.get(c,{headers:this.getHeaders()})).pipe(o(p=>p.data))}getTotalCount(e=""){let t=`${this.apiUrl}marketing/total_count/?search=${e}`;return s(r.get(t,{headers:this.getHeaders()})).pipe(o(a=>a.data.total_count))}getMarketingById(e){return s(r.get(`${this.processing}${e}/list_for_update/`,{headers:this.getHeaders()})).pipe(o(t=>t.data))}processMarketing(e,t="0"){return s(r.post(`${this.processing}${t}/processing/`,e,{headers:this.getHeaders()})).pipe(o(a=>a.data))}deleteMarketing(e){return r.get(this.deletion.replace("0",e),{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}})}getAmc(){return r.get(this.amc,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}})}getFileType(){return r.get(this.fileType,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}})}getShareLinks(e){return r.get(this.shareLinks.replace("0",e),{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}})}getFullUrl(e){return e?e.startsWith("http")?e:`${this.apiUrl}${e}`:""}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=n({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();export{$ as a};
