import './polyfills.server.mjs';
import{b as n,c,d as t}from"./chunk-72TWDDAR.mjs";import{_ as l,k as a,r as o}from"./chunk-S7ATBOQE.mjs";var U=(()=>{class i{constructor(){this.apiUrl=new n().getUrl(c),this.lists=this.apiUrl+"courier/listing/",this.processing=this.apiUrl+"courier/",this.deletion=this.apiUrl+"courier/0/deletion/",this.listFiles=this.apiUrl+"courierFiles/0/listing/",this.deleteFile=this.apiUrl+"courierFiles/0/deletion/",this.clientName=this.apiUrl+"client/",this.countryEndpoint=this.apiUrl+"country/"}getHeaders(){return{Authorization:`Bearer ${localStorage.getItem("access_token")}`}}listsCourier(e,r,s=""){let h=new URLSearchParams({page:e.toString(),page_size:r.toString(),search:s}),u=`${this.lists}?${h.toString()}`;return a(t.get(u,{headers:this.getHeaders()})).pipe(o(p=>p.data))}getTotalCount(e=""){let r=`${this.apiUrl}courier/total_count/?search=${e}`;return a(t.get(r,{headers:this.getHeaders()})).pipe(o(s=>s.data.total_count))}getcourierById(e){return a(t.get(`${this.processing}${e}/list_for_update/`,{headers:this.getHeaders()})).pipe(o(r=>r.data))}processCourier(e,r="0"){return a(t.post(`${this.processing}${r}/processing/`,e,{headers:this.getHeaders()})).pipe(o(s=>s.data))}deleteCourier(e){return t.get(this.deletion.replace("0",e),{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}})}listsCourierFiles(e){return t.get(this.listFiles.replace("0",e),{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}})}deleteCourierFile(e){return t.get(this.deleteFile.replace("0",e),{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}})}getFullUrl(e){return e?(e=e.replace(/([^:]\/)\/+/g,"$1"),e.startsWith("http://")||e.startsWith("https://")?e:(e=e.replace("/apis/",""),`${this.apiUrl.replace("/apis/","")}${e}`)):""}getClientNames(){return t.get(this.clientName,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}}).then(e=>e.data)}getCountries(){return t.get(this.countryEndpoint,{headers:this.getHeaders()}).then(e=>e.data)}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=l({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();export{U as a};
