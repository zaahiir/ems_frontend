import{b as c,c as p,d as s}from"./chunk-AJEUVWKL.js";import{M as n,h as a,m as o}from"./chunk-WAGJM7NU.js";var $=(()=>{class r{constructor(){this.apiUrl=new c().getUrl(p),this.lists=this.apiUrl+"issue/listing/",this.processing=this.apiUrl+"issue/",this.deletion=this.apiUrl+"issue/0/deletion/",this.issueType=this.apiUrl+"issueType/",this.clientName=this.apiUrl+"client/"}getHeaders(){return{Authorization:`Bearer ${localStorage.getItem("access_token")}`}}listsIssue(e,t,i=""){let l=new URLSearchParams({page:e.toString(),page_size:t.toString(),search:i}),h=`${this.lists}?${l.toString()}`;return a(s.get(h,{headers:this.getHeaders()})).pipe(o(g=>g.data))}getTotalCount(e=""){let t=`${this.apiUrl}issue/total_count/?search=${e}`;return a(s.get(t,{headers:this.getHeaders()})).pipe(o(i=>i.data.total_count))}getIssueById(e){return a(s.get(`${this.processing}${e}/list_for_update/`,{headers:this.getHeaders()})).pipe(o(t=>t.data))}processIssue(e,t="0"){return a(s.post(`${this.processing}${t}/processing/`,e,{headers:this.getHeaders()})).pipe(o(i=>i.data))}deleteIssue(e){return s.get(this.deletion.replace("0",e),{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}})}getIssueType(){return s.get(this.issueType,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}})}getClientName(){return s.get(this.clientName,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}})}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=n({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();export{$ as a};
