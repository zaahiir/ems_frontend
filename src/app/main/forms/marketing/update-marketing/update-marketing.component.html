<c-row ngPreserveWhitespaces>
    <c-col xs="12">
      <c-card class="mb-4">
        <c-card-header>
          <strong>Update Marketing</strong>
        </c-card-header>
        <c-card-body>
          <form #customStylesForm="ngForm"
                [formGroup]="marketingUpdateForm"
                (ngSubmit)="onSubmit()"
                [validated]="customStylesValidated"
                cForm
                class="row g-3 needs-validation">
            
            <c-col [cFormFloating]="true" md="6">
              <select cSelect cFormControl id="validationCustom01" formControlName="marketingAmcName" required>
                <option [value]="item.id" *ngFor="let item of amcs">{{ item.amcName }}</option>
              </select>
              <label cLabel for="validationCustom01" class="ms-2">AMC Name</label>
              <c-form-feedback [valid]="false" 
                               *ngIf="f['marketingAmcName'].errors && (f['marketingAmcName'].touched || submitted)">
                Please select an AMC.
              </c-form-feedback>
            </c-col>
            
            <c-col [cFormFloating]="true" md="6">
              <select cSelect cFormControl id="validationCustom02" formControlName="marketingType" required>
                <option value="" disabled>Select an FileType</option>
                <option [value]="item.id" *ngFor="let item of fileType">{{ item.fileTypeName }}</option>
              </select>
              <label cLabel for="validationCustom02" class="ms-2">File Type</label>
              <c-form-feedback [valid]="false" 
                               *ngIf="f['marketingType'].errors && (f['marketingType'].touched || submitted)">
                Please select a File Type.
              </c-form-feedback>
            </c-col>
  
            <c-col [cFormFloating]="true" md="12">
              <textarea cFormControl id="validationCustom03" formControlName="marketingDescription" rows="3" required placeholder="Description"></textarea>
              <label cLabel for="validationCustom03" class="ms-2">Description</label>
              <c-form-feedback [valid]="false" 
                               *ngIf="f['marketingDescription'].errors && (f['marketingDescription'].touched || submitted)">
                Please provide a Description.
              </c-form-feedback>
            </c-col>
  
            <c-col>
              <label cLabel for="validationCustom04">File Upload</label>
              <input cFormControl
                     id="validationCustom04" 
                     formControlName="marketingFile"
                     type="file"
                     (change)="onFileChange($event)"
                     accept=".pdf,.doc,.docx,.jpg,.jpeg,.xls,.xlsx,.csv,.txt,.mp4"
              />
              <input 
                cFormControl 
                id="fileNameDisplay" 
                plaintext 
                readonly 
                type="text" 
                [value]="currentFileName" 
              />
              <c-form-feedback [valid]="false" *ngIf="fileError && (submitted || selectedFile)">
                {{ fileError }}
              </c-form-feedback>
            </c-col>
  
            <c-col xs="12">
              <button cButton class="me-1" color="primary" type="submit">
                Update
              </button>
              <button (click)="onCancel()" cButton color="secondary">
                Cancel
              </button>
            </c-col>
          </form>
        </c-card-body>
      </c-card>
    </c-col>
  </c-row>